<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.mx/thymeleaf/layout" lang="fr"
    layout:decorate="~{layouts/main}">

<head>
    <title>Accueil - Réservation Théâtre</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/home.css}">
</head>

<body>

    <div layout:fragment="content">
        <div class="container mt-5">

            <!-- Messages de succès ou d'erreur -->
            <div class="mb-4">
                <div th:if="${successMessage}" class="alert alert-success text-center" role="alert">
                    <p th:text="${successMessage}"></p>
                </div>
                <div th:if="${errorMessage}" class="alert alert-danger text-center" role="alert">
                    <p th:text="${errorMessage}"></p>
                </div>
            </div>

            <!-- Section avec le message -->
            <div class="text-center mb-5">
                <h2 class="section-title text-primary-custom" th:text="#{home.message}">Nos nouveautés</h2>
                <p class="section-subtitle" th:text="#{home2.message}">Découvrez les dernières pièces de théâtre ajoutées à notre programme.</p>
            </div>

            <!-- Carousel -->
            <div id="carouselExampleIndicators" class="carousel slide mb-5" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                        class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/images/pqfctpas.jpg" width="1200" class="d-block w-100" alt="Pièce de Théâtre 1">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Découvrez ce qu'est le vrai théâtre, une expérience à vous donner la chair de poule</h5>
                            <p>Réservez sans plus attendre, il n'y aura pas de places pour tout le monde.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/images/ballon.jpg" width="1200" class="d-block w-100" alt="Pièce de Théâtre 2">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>La magie du théâtre : une expérience indescriptible</h5>
                            <p>Il faut le voir pour le croire</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/images/danton.jpg" width="1200" class="d-block w-100" alt="Pièce de Théâtre 3">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Redécouvrez des pièces d'anthologie</h5>
                            <p>Des mises en scène toujours plus réalistes</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Précédent</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Suivant</span>
                </button>
            </div>

            <!-- Section "Nos nouveautés" -->
            <div class="text-center mb-5">
                <h2 class="section-title text-primary-custom" th:text="#{home3.message}">Nos nouveautés</h2>
                <p class="section-subtitle" th:text="#{home6.message}">Découvrez les dernières pièces de théâtre prochainement disponible</p>
            </div>

            <!-- Nouveautés -->
            <div class="row mb-5">
                <div class="col-md-4">
                    <div class="card">
                        <img src="/images/nouveaute1.jpg" class="card-img-top" alt="Nouveauté 1">
                        <div class="card-body">
                            <h5 class="card-title">Roméo & Juliette</h5>
                            <p class="card-text">Une intrigue passionnante qui vous tiendra en haleine.</p>
                            <a href="#" class="btn btn-primary-custom" onclick="toggleInfo(event, this)">En savoir plus</a>
                            <div class="info-bubble">
                                <p>Histoire d'amour interdite entre deux jeunes amants issus de familles rivales à Vérone.
                                    Leur passion dévorante les pousse à défier les normes, mais leur destin tragique est scellé par un enchaînement de malentendus et de conflits.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card">
                        <img src="/images/nouveaute2.jpg" class="card-img-top" alt="Nouveauté 2">
                        <div class="card-body">
                            <h5 class="card-title">Alice Au Pays Des Merveilles</h5>
                            <p class="card-text">Un spectacle époustouflant avec des performances inoubliables.</p>
                            <a href="#" class="btn btn-primary-custom" onclick="toggleInfo(event, this)">En savoir plus</a>
                            <div class="info-bubble">
                                <p>Les aventures fantastiques d'Alice, une jeune fille curieuse, 
                                    qui tombe dans un terrier de lapin et découvre un monde étrange peuplé de personnages excentriques et merveilleux.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card">
                        <img src="/images/nouveaute3.jpg" class="card-img-top" alt="Nouveauté 3">
                        <div class="card-body">
                            <h5 class="card-title">Cyrano De Bergerac</h5>
                            <p class="card-text">Plongez dans un univers théâtral unique en son genre.</p>
                            <a href="#" class="btn btn-primary-custom" onclick="toggleInfo(event, this)">En savoir plus</a>
                            <div class="info-bubble">
                                <p>L'histoire de Cyrano, un poète et épéiste au grand cœur, 
                                    connu pour son nez proéminent, qui aide secrètement le beau Christian à courtiser la femme qu'il aime,
                                    Roxane, malgré ses propres sentiments pour elle.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section "À l'affiche" -->
            <div class="text-center mb-5">
                <h2 class="section-title text-primary-custom" th:text="#{home8.message}">À l'affiche</h2>
                <p class="section-subtitle" th:text="#{home9.message}">Ne manquez pas les spectacles les plus populaires actuellement à l'affiche.</p>
            </div>

            <!-- À l'affiche -->
            <div class="row mb-5">
                <div class="col-md-4 col-sm-6 mb-4" th:each="show : ${shows}">
                    <a th:href="@{'/shows/' + ${show.id}}" class="text-center">
                        <div class="card h-100">
                            <img th:src="@{'/images/' + ${show.posterUrl}}" class="card-img-top mx-auto d-block"
                                style="width: 100%; height: 300px; object-fit: cover;" alt="Affiche">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${show.title}">Titre de la pièce</h5>
                                <p class="card-text" th:text="${show.description}">Description courte de la pièce.</p>
                                <a th:href="@{'/shows/' + ${show.id}}" class="btn btn-primary-custom">Réserver</a>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="mt-5">
        <p>&copy; 2024 Réservation Théâtre. Tous droits réservés.</p>
        <p><a href="#" class="text-white">Mentions légales</a> | <a href="#" class="text-white">Politique de confidentialité</a></p>
    </footer>

    <script>
        function toggleInfo(event, button) {
            event.preventDefault();
            const infoBubble = button.nextElementSibling;
            if (infoBubble.style.display === "block") {
                infoBubble.style.display = "none";
            } else {
                infoBubble.style.display = "block";
            }
        }
    </script>
</body>

</html>
